

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/cute_icon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Torrid-Fish">
  <meta name="keywords" content="">
  
    <meta name="description" content="First exploration of LLM, with a simple LoRA finetuning of a LLaVA model. Although we didn&#39;t win, it was still a great experience.">
<meta property="og:type" content="article">
<meta property="og:title" content="[Life] 2024 TSMC IT CareerHack Campus Hackathon">
<meta property="og:url" content="https://torrid-fish.github.io/life-tsmc_2024_hackthon/index.html">
<meta property="og:site_name" content="Torrid Blog">
<meta property="og:description" content="First exploration of LLM, with a simple LoRA finetuning of a LLaVA model. Although we didn&#39;t win, it was still a great experience.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://torrid-fish.github.io/img/life/tsmc_2024_hackthon/tsmc_it.jpg">
<meta property="article:published_time" content="2024-01-26T16:00:00.000Z">
<meta property="article:modified_time" content="2026-02-14T10:18:02.156Z">
<meta property="article:author" content="Torrid Fish">
<meta property="article:tag" content="Competition">
<meta property="article:tag" content="Hackathon">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://torrid-fish.github.io/img/life/tsmc_2024_hackthon/tsmc_it.jpg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>[Life] 2024 TSMC IT CareerHack Campus Hackathon - Torrid Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/others/css/accent.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"torrid-fish.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Torrid Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="fa fa-home"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="fa fa-calendar"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="fa fa-user"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/../img/life/tsmc_2024_hackthon/tsmc_it.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="[Life] 2024 TSMC IT CareerHack Campus Hackathon"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-01-27 00:00" pubdate>
          January 27, 2024
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    

    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">[Life] 2024 TSMC IT CareerHack Campus Hackathon</h1>
            
            
              <div class="markdown-body">
                
                <h3 id="Participation"><a href="#Participation" class="headerlink" title="Participation"></a>Participation</h3><p>I was invited by Chen-Zhong to participate in <a target="_blank" rel="noopener" href="https://www.tsmc.com/static/english/careers/2024Careerhack/index.html">TSMC‚Äôs 2024 Campus Hackathon</a>. Riding on the momentum from our good results at the Mei-Chu Hackathon, I wanted to see if we could win a second award, so I signed up for this competition.</p>
<p>When we were looking at the themes, since He-Kun and I had already read many papers and implementations related to CV (Computer Vision) in our reading group, we decided to choose the ‚ÄúAI Image Storytelling‚Äù theme.</p>
<h3 id="Preliminary-Round"><a href="#Preliminary-Round" class="headerlink" title="Preliminary Round"></a>Preliminary Round</h3><p>To actually compete in the finals at their Taipei office on 1&#x2F;26 and 1&#x2F;27, we had to participate in the online preliminary round. Basically, it was testing programming ability, with languages like C++, Python, Java to choose from. The problems were relatively simple - mine were just greedy algorithms and some very basic problems. I heard from friends that there were also tree-related problems. But it was really quite basic, <del>reminds me of the freshman programming late-night sessions</del>.</p>
<p>Anyway, I personally feel the preliminaries and finals had little connection. I found it quite surprising they used this mechanism for screening. (I heard there were over 100 teams registered, and they eventually selected 24 teams)</p>
<h3 id="Finals"><a href="#Finals" class="headerlink" title="Finals"></a>Finals</h3><p>After that, we were notified we made it to the finals, along with information about the problem and hackathon schedule. We started preparing.</p>
<h4 id="Problem-AI-Image-Storytelling"><a href="#Problem-AI-Image-Storytelling" class="headerlink" title="Problem: AI Image Storytelling"></a>Problem: AI Image Storytelling</h4><p>The organizers provided a dataset containing images with safety helmets and GPT conversation results, plus a LLaVA model pretrained with LoRA. Our task was to use this information to create a system that could process images and answer these questions:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br><span class="hljs-attr">&quot;Q1&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Is there any people not wearing a helmets? Please answer with true or false.&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Q2&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;How many people are there in the image? Please give a single integer answer.&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Q3&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;How many people are there and wear a helmets in the image? Please give a single integer answer.&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Q4&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;How many people are there and not wear a helmets in the image? Please give a single integer answer.&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Q5&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tell the color of the helmets that people wear in the image from this list: red, yellow, blue, white, green, orange, black.The answer may be more than one color.If there is no one wear a helmets, please answer None as response. &quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Q6&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;What is the warning message shown in the image? Just give me the warning sentence.&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;Q7&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Is there anyone violating the warning message describe in the image?  Please answer with true or false.&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>
<p>Finally, scoring would be done using a private test set provided by the organizers. 70% of the final score would be based on the correctness of the above outputs. Only 30% would be determined by the on-site demo performance.</p>
<p>This scoring mechanism was completely different from the Mei-Chu Hackathon I participated in before, and there were some issues I found quite puzzling:<br>The private set only had 107 images, and they gave us nearly 1.5 hours to generate results. If someone wanted to, manually annotating all the answers wouldn‚Äôt be impossible. How could they ensure no team manually filled in all the answers? Although people were monitoring and warning us not to cheat, I still found it somewhat unreasonable.</p>
<h4 id="Problems-Encountered-on-GCP-Google-Cloud-Platform"><a href="#Problems-Encountered-on-GCP-Google-Cloud-Platform" class="headerlink" title="Problems Encountered on GCP (Google Cloud Platform)"></a>Problems Encountered on GCP (Google Cloud Platform)</h4><p>This time they also had Google Cloud provide computing resources for us to use, but our experience using it wasn‚Äôt very smooth.</p>
<p>When we tried to finetune instruct-BLIP, we once crashed the RAM, causing the entire instance to break. Before the competition, our instance also broke for unknown reasons, and we received an email asking if we did something to break it, but we had no idea what happened - we didn‚Äôt do any special operations.</p>
<p>For example, the instance they provided broke twice:</p>
<ul>
<li>The first time was 2 days after the hackathon when I suddenly received an email from the organizers reminding us that our instance crashed, asking if we ran any commands. But we didn‚Äôt do any special operations, so we still don‚Äôt understand what happened to the machine.</li>
<li>The second time was the day before the competition when we tried to load instruct-BLIP into the instance to finetune, apparently filling up the disk, and the entire instance crashed.</li>
</ul>
<p>Similarly, besides the instance, there were also problems with the bucket they provided:<br>Before and during the competition, both He-Kun and I encountered permission errors when trying to upload large files from the instance to the bucket. It wasn‚Äôt until the Google Cloud team came to provide support that day that they discovered the problem was because it would request an additional ‚Äúget‚Äù command from the bucket, and our instance initially didn‚Äôt seem to have this permission, causing this issue.</p>
<p>However, I must mention that the staff were really very proactive. Basically, they addressed problems immediately. When fixing the bucket issue, I really felt their enthusiasm, which also caused me considerable pressure (the pressure of having 6-7 people surrounding you is no joke‚Ä¶). Anyway, I‚Äôm really grateful for their help!</p>
<h4 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h4><p>Although we encountered many situations during the competition: like my long-lasting gastroenteritis, getting rejected for Google‚Äôs internship application, plus losing one team member on the second day (he went to Japanüò¢), which more or less affected our performance these two days, so what we accomplished was far below my expectations. But I think the more important reason we didn‚Äôt perform well was actually ‚Äúwe started too late‚Äù and ‚Äúmisunderstood the problem.‚Äù</p>
<h5 id="Started-Too-Late"><a href="#Started-Too-Late" class="headerlink" title="Started Too Late"></a>Started Too Late</h5><p>After the workshop ended, we basically only did simple paper reviews and tested three architectures: LLaVA, BLIP, and Flamingo. We discovered very late that the resources the organizers provided weren‚Äôt enough for BLIP and Flamingo to use, so a lot of time was spent on things that didn‚Äôt contribute much to the final result. Additionally, because of my health during those days, I only did simple data analysis and didn‚Äôt at least run through their sample code to finetune LLaVA - this wasn‚Äôt done until competition day, so I think we really started working too late. With the two days of competition, what we could produce was probably just this much.</p>
<h5 id="Misunderstood-the-Problem"><a href="#Misunderstood-the-Problem" class="headerlink" title="Misunderstood the Problem"></a>Misunderstood the Problem</h5><p>When we first saw the problem, we thought ‚Äúdo the first few questions really need generative models?‚Äù The required questions could actually be solved well with CV models we learned, so why would we need generative models (of course for questions like Q7 that ask about logic, we also thought they were necessary)? So we wrote to the organizers asking if we could use computer vision models to answer, but their response was ‚Äúwe don‚Äôt recommend using specialized models to answer one by one, because questions like #7 require more general capabilities.‚Äù Although we felt they didn‚Äôt answer our question, we understood it as they ‚Äúdidn‚Äôt want‚Äù us to use non-generative models. Then on competition day, we saw many teams combining CV model outputs with questions into new prompts for LLMs to generate results. Besides admiring other teams‚Äô creativity, we also regretted misunderstanding the organizers‚Äô intention and not thinking in the direction of combining image recognition with LLMs. This was the most regrettable part of this competition.</p>
<h3 id="Reflections"><a href="#Reflections" class="headerlink" title="Reflections"></a>Reflections</h3><p>This competition felt regrettable because we didn‚Äôt give our full effort. Although we received praise from judges: ‚ÄúWhat a pity! You were on the border (4th place)! And you‚Äôre only juniors, so young, the other teams are all graduate students!‚Äù - and I think it was probably consolation, but hearing it still made me feel better, which is magical. However, this experience was perfect for me to explore the entire LLM architecture and have the opportunity to actually use deepspeed to finetune a model, which perfectly aligned with the tasks my lab professor would give me later. So I‚Äôve now changed my mindset and think that having these gains from this competition is already quite sufficient. The rest is left for my future self to work on. I hope my future self looking back at participating in this competition will feel that I‚Äôve grown a lot!</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Life/" class="category-chain-item">Life</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Hackathon/">#Hackathon</a>
      
        <a href="/tags/Competition/">#Competition</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>[Life] 2024 TSMC IT CareerHack Campus Hackathon</div>
      <div>https://torrid-fish.github.io/life-tsmc_2024_hackthon/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Torrid-Fish</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>January 27, 2024</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/tech-graphviz_light_dark_support/" title="[Tech] Adding Light/Dark Theme Support to Graphviz">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">[Tech] Adding Light/Dark Theme Support to Graphviz</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  





  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});

    Fluid.events.registerRefreshCallback(function() {
      if ('mermaid' in window) {
        mermaid.init();
      }
    });
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       Powered by: <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> + <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <br>Last Updated: 
      2026-02-14
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="/others/js/ruby_gen.js"></script>



<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
